{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","setFilter","onChange","target","value","Notification","message","notificationStyle","color","result","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","PersonForm","addPerson","newName","setNewName","newNumber","setNewNumber","onSubmit","type","Person","person","deletePerson","name","number","onClick","id","Persons","filter","persons","personsToShow","toLowerCase","includes","map","baseUrl","phoneService","getAll","axios","get","then","response","data","create","newObject","post","update","put","deleteEntry","delete","App","useState","setPersons","errorMessage","setErrorMessage","setColor","useEffect","console","log","initialPersons","event","preventDefault","newPerson","existingEntry","find","window","confirm","returnedPerson","catch","error","p","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1a659d02.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({setFilter}) => \n  <>\n    filter shown with: <input \n      onChange={({target}) => setFilter(target.value)}\n    />\n  </>\n\nexport default Filter","import React from \"react\";\n\nconst Notification = ({ message, result }) => {\n  const notificationStyle = {\n    color: result,\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n\n  if (message === null) {\n    return null;\n  }\n\n  return <div style={notificationStyle}>{message}</div>;\n};\n\nexport default Notification;\n","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, setNewName, newNumber, setNewNumber}) =>\n  <form onSubmit={addPerson}>\n    <div>\n      name: <input\n        value={newName}\n          onChange={({target}) => setNewName(target.value)}\n        />\n    </div>\n    <div>\n      number: <input \n        value={newNumber}\n          onChange={({target}) => setNewNumber(target.value)}\n        />\n    </div>\n    <button type=\"submit\">add</button>\n  </form>\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({person, deletePerson}) =>\n  <p>\n    {person.name} {person.number} <button onClick={() => deletePerson(person.id, person.name)}>delete</button>\n  </p>\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({filter, persons, deletePerson}) => {\n  const personsToShow = \n  filter === ''\n    ? persons\n    : persons.filter((person) =>\n        person.name.toLowerCase().includes(filter.toLowerCase())\n      )\n\n  return (\n    <>\n      {personsToShow.map(person =>\n        <Person key={person.id} person={person} deletePerson={deletePerson} />\n      )}\n    </> \n  )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteEntry = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst phoneService = { getAll, create, update, deleteEntry }\n\nexport default phoneService","import React, { useEffect, useState } from \"react\";\n\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport phoneService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [color, setColor] = useState(\"\");\n\n  useEffect(() => {\n    console.log(\"effect\");\n    phoneService.getAll().then((initialPersons) => {\n      console.log(\"promise fulfilled\");\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const existingEntry = persons.find((person) => person.name === newName);\n\n    if (existingEntry) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      )\n        phoneService\n          .update(existingEntry.id, newPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== returnedPerson.id ? person : returnedPerson\n              )\n            );\n            setErrorMessage(`${existingEntry.name}'s number was updated`);\n            setColor(\"green\");\n            setNewName(\"\");\n            setNewNumber(\"\");\n          })\n          .catch((error) => {\n            setErrorMessage(\n              `${existingEntry.name}'s information has already been removed from server`\n            );\n            setColor(\"red\");\n            setPersons(persons.filter((p) => p.id !== existingEntry.id));\n          });\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 3000);\n    } else {\n      phoneService\n        .create(newPerson)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setErrorMessage(`Added ${newPerson.name}`);\n          setColor(\"green\");\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch((error) => {\n          setErrorMessage(`${error.response.data.error}`);\n          console.log(error.response.data);\n        });\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 3000);\n    }\n  };\n\n  const deletePerson = (id) => {\n    const person = persons.find((p) => p.id === id);\n\n    if (window.confirm(`Delete ${person.name}?`))\n      phoneService.deleteEntry(id).then(() => {\n        phoneService.getAll().then((persons) => {\n          setPersons(persons);\n        });\n      });\n  };\n\n  return (\n    <>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} result={color} />\n      <Filter setFilter={setFilter} />\n      <h3>Add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n      />\n      <h3>Numbers</h3>\n      <Persons filter={filter} persons={persons} deletePerson={deletePerson} />\n    </>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}